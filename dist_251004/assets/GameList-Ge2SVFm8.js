import{d as C,u as G,r as _,C as B,b as j,c as i,e as l,m as A,f as t,q as c,w as I,E as N,t as n,F as v,p as f,k as u,l as p,g,G as w,_ as $}from"./index-sn2Iz1lD.js";const T={key:0,class:"flex justify-between items-center mb-4"},V={class:"flex items-center space-x-2"},D={class:"flex items-center"},L={key:1,class:"text-center py-8"},E={key:2,class:"text-center py-8"},F={class:"text-red-500"},M={key:3,class:"text-center py-8"},S={key:4,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"card-image-container relative"},z=["src","alt"],O={class:"p-5"},R=["title"],U={class:"text-slate-500 text-sm description-truncate mb-3"},H={class:"flex flex-wrap gap-2 mb-4"},J={class:"flex justify-between items-center"},K={class:"text-xs text-slate-400"},P={key:5,class:"space-y-4"},Q={class:"flex flex-col md:flex-row"},W={class:"md:w-1/4 relative"},X={class:"aspect-video md:h-full"},Y=["src","alt"],Z={class:"p-4 md:w-3/4 flex flex-col justify-between"},ee={class:"flex justify-between items-start mb-2"},te={class:"text-xl font-semibold text-slate-800 hover:text-indigo-600"},se={class:"text-xs text-slate-400 mt-1"},oe={class:"text-slate-600 mb-4"},ie={class:"flex flex-wrap gap-2 mb-4"},le={class:"flex justify-end"},ae=C({__name:"GameList",props:{games:{},loading:{type:Boolean},error:{}},emits:["refresh"],setup(k,{emit:ne}){const h=k;G();const m=_("grid"),x=_("default"),y=B(()=>{if(!h.games)return[];const o=[...h.games];switch(x.value){case"name":return o.sort((s,a)=>s.name.localeCompare(a.name));case"views":return o.sort((s,a)=>{const e=parseInt(s.views||"0");return parseInt(a.views||"0")-e});case"newest":return o.sort((s,a)=>{const e=s.createdAt?new Date(s.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-e});default:return o}});async function b(o,s){}return(o,s)=>{const a=j("router-link");return l(),i("div",null,[!o.loading&&!o.error&&o.games&&o.games.length>0?(l(),i("div",T,[t("div",V,[t("button",{onClick:s[0]||(s[0]=e=>m.value="grid"),class:c(["p-2 rounded-md",m.value==="grid"?"bg-indigo-100 text-indigo-600":"text-gray-600 hover:bg-gray-100"]),title:"网格视图"},s[4]||(s[4]=[t("i",{class:"fas fa-th-large"},null,-1)]),2),t("button",{onClick:s[1]||(s[1]=e=>m.value="list"),class:c(["p-2 rounded-md",m.value==="list"?"bg-indigo-100 text-indigo-600":"text-gray-600 hover:bg-gray-100"]),title:"列表视图"},s[5]||(s[5]=[t("i",{class:"fas fa-list"},null,-1)]),2)]),t("div",D,[I(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>x.value=e),class:"text-sm border rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-1 focus:ring-indigo-500"},s[6]||(s[6]=[t("option",{value:"default"},"默认排序",-1),t("option",{value:"name"},"按名称",-1),t("option",{value:"views"},"按热度",-1),t("option",{value:"newest"},"最新上线",-1)]),512),[[N,x.value]])])])):A("",!0),o.loading?(l(),i("div",L,s[7]||(s[7]=[t("p",{class:"text-gray-600"},"加载中...",-1)]))):o.error?(l(),i("div",E,[t("p",F,n(o.error),1),t("button",{onClick:s[3]||(s[3]=e=>o.$emit("refresh")),class:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700"}," 刷新重试 ")])):o.games&&o.games.length===0?(l(),i("div",M,s[8]||(s[8]=[t("p",{class:"text-gray-500"},"暂无内容",-1)]))):m.value==="grid"?(l(),i("div",S,[(l(!0),i(v,null,f(y.value,e=>{var d;return l(),i("div",{key:e.id,class:"bg-white rounded-xl shadow-lg overflow-hidden card-hover-shadow transform hover:-translate-y-1 transition-all duration-300 ease-out"},[u(a,{to:{name:"game-detail",params:{id:e.id}}},{default:p(()=>[t("div",q,[t("img",{src:e.icon||"https://via.placeholder.com/400x300?text=No+Image",alt:e.name,class:"absolute inset-0 h-full w-full object-cover"},null,8,z),t("div",{class:c(["absolute top-2 right-2 text-white text-xs font-semibold px-2 py-1 rounded",e.type==="Game"?"bg-purple-600 breathing-gradient-bg":"bg-sky-500"])},n(e.type==="Game"?"游戏":"应用"),3)])]),_:2},1032,["to"]),t("div",O,[u(a,{to:{name:"game-detail",params:{id:e.id}}},{default:p(()=>[t("h3",{class:"text-lg font-semibold text-slate-800 hover:text-indigo-600 transition-colors duration-200 leading-tight truncate mb-1",title:e.name},n(e.name),9,R)]),_:2},1032,["to"]),t("p",U,n(e.description),1),t("div",H,[(l(!0),i(v,null,f((d=e.tags)==null?void 0:d.split(",").slice(0,3),r=>(l(),i("span",{key:r,class:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded-full"},n(r),1))),128))]),t("div",J,[t("span",K,[s[9]||(s[9]=t("i",{class:"fas fa-eye mr-1"},null,-1)),g(n(e.views||0),1)]),u(a,{to:{name:"game-detail",params:{id:e.id}},class:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg button-hover-scale text-sm transition-all duration-200",onClick:w(r=>b(e.id,e.type),["stop"])},{default:p(()=>[t("i",{class:c([e.type==="Game"?"fas fa-gamepad":"fas fa-external-link-alt","mr-1.5"])},null,2),g(" "+n(e.type==="Game"?"开始体验":"前往查看"),1)]),_:2},1032,["to","onClick"])])])])}),128))])):(l(),i("div",P,[(l(!0),i(v,null,f(y.value,e=>{var d;return l(),i("div",{key:e.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300"},[t("div",Q,[t("div",W,[u(a,{to:{name:"game-detail",params:{id:e.id}}},{default:p(()=>[t("div",X,[t("img",{src:e.icon||"https://via.placeholder.com/400x300?text=No+Image",alt:e.name,class:"w-full h-full object-cover"},null,8,Y)]),t("div",{class:c(["absolute top-2 right-2 text-white text-xs font-semibold px-2 py-1 rounded",e.type==="Game"?"bg-purple-600 breathing-gradient-bg":"bg-sky-500"])},n(e.type==="Game"?"游戏":"应用"),3)]),_:2},1032,["to"])]),t("div",Z,[t("div",null,[t("div",ee,[u(a,{to:{name:"game-detail",params:{id:e.id}}},{default:p(()=>[t("h3",te,n(e.name),1)]),_:2},1032,["to"]),t("span",se,[s[10]||(s[10]=t("i",{class:"fas fa-eye mr-1"},null,-1)),g(n(e.views||0),1)])]),t("p",oe,n(e.description),1),t("div",ie,[(l(!0),i(v,null,f((d=e.tags)==null?void 0:d.split(","),r=>(l(),i("span",{key:r,class:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded-full"},n(r),1))),128))])]),t("div",le,[u(a,{to:{name:"game-detail",params:{id:e.id}},class:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg button-hover-scale text-sm transition-all duration-200",onClick:w(r=>b(e.id,e.type),["stop"])},{default:p(()=>[t("i",{class:c([e.type==="Game"?"fas fa-gamepad":"fas fa-external-link-alt","mr-1.5"])},null,2),g(" "+n(e.type==="Game"?"开始体验":"前往查看"),1)]),_:2},1032,["to","onClick"])])])])])}),128))]))])}}}),re=$(ae,[["__scopeId","data-v-d032b9d1"]]);export{re as G};
